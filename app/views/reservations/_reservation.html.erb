<div class="grid grid-cols-1 sm:grid-cols-2">
  <div>
    <div class="">
      <% if is_student?(current_user) && @reservation.approved %>
        <p class="body-md-text status-true">
          The reservation is approved by admins
        </p>
      <% end %>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Car:
      </label>
      <p id="car" class="body-lg-text ml-2 inline-block">
        <% if reservation.car.present? %>
          <%= link_to show_car(reservation), car_path(reservation.car), class: "link_to" %>
        <% else %>
          <span class="status-false">
            No car selected
          </span>
        <% end %>
      </p>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Site:
      </label>
      <p class="body-lg-text ml-2 inline-block">
        <%= reservation.site.title %>
      </p>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Start time:
      </label>
      <p class="body-lg-text ml-2 inline-block">
        <%= show_date_time(reservation.start_time + 15.minute) %>
      </p>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        End time:
      </label>
      <p class="body-lg-text ml-2 inline-block">
        <%= show_date_time(reservation.end_time - 15.minute) %>
      </p>
    </div>

    <div class="py-2 body-md-text">
      <% if @reservation.prev.present? || @reservation.next.present? %>
        <% recurring_reservation = RecurringReservation.new(@reservation) %>
        <label class="body-lg-bold-text">
          Recurring:
        </label>
        <p class="body-lg-text ml-2 inline-block">
          <%= recurring_reservation.first_reservation.rule.to_s %>
        </p>
        <p>
          <%= "starting on #{recurring_reservation.start_on} ending on #{recurring_reservation.end_on}" %>
        </p>
      <% end %>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Driver:
      </label>
      <p id="driver" class="body-lg-text ml-2 inline-block">
        <%= show_driver(reservation) %>
      </p>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Driver phone:
      </label>
      <p class="body-lg-text ml-2 inline-block">
        <%= reservation.driver_phone %>
      </p>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Backup Driver:
      </label>
      <p class="body-lg-text ml-2 inline-block">
        <%= show_backup_driver(reservation) %>
      </p>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Backup driver phone:
      </label>
      <p class="body-lg-text ml-2 inline-block">
        <%= reservation.backup_driver_phone %>
      </p>
    </div>

    <div class="py-2">
      <label class="body-lg-bold-text">
        Number of people on trip:
      </label>
      <p class="body-lg-text ml-2 inline-block">
        <%= reservation.number_of_people_on_trip %>
      </p>
    </div>
  </div>
  <div>
    <% if @passengers.present? %>
      <label class="body-lg-bold-text">
        Passengers (<%= @reservation.passengers.count %>):
      </label>
      <ul>
        <% @passengers.each do |passenger| %>
          <p class="body-lg-text ml-2">
            <%= passenger.display_name %>
          </p>
        <% end %>
      </ul>
    <% end %>
    <div class="mt-2">
      <% if @reservation.program.non_uofm_passengers && @reservation.non_uofm_passengers.present? %>
        <label class="body-lg-bold-text">
          Non UofM Passengers (<%= @reservation.number_of_non_uofm_passengers %>):
        </label>
        <p class="body-lg-text ml-2">
          <%= @reservation.non_uofm_passengers %>
        </p>
      <% end %>
    </div>
  </div>

</div>
<p class="body-sm-text m-2">
  <%= reserved_on_and_by(reservation) %>
</p>
