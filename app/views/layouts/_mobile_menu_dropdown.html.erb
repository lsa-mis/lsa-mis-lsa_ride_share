<div class="flex sm:hidden">  
  <div id="mobile-menu" aria-labelledby="header-nav-menu-button" aria-orientation="vertical" 
        data-dropdown-entering-class="transition ease-out duration-200" 
        data-dropdown-invisible-class="opacity-0 -translate-y-1 scale-95" 
        data-dropdown-leaving-class="transition ease-in duration-150" 
        data-dropdown-target="menu" data-dropdown-visible-class="opacity-100  -translate-y-0" 
         tabindex="-1">
    <div class="p-2" id="header-nav-menu-button">
      <% if user_signed_in? %>
        <div class="header_link">
          <%= link_to "Programs", programs_path, class: "#{class_names(active: current_page?(programs_path))}" if policy(Program).index? %>
        </div>
        <br>
        <div class="header_link">
          <%= link_to "Cars", cars_path, class: "#{class_names(active: current_page?(cars_path))}" if policy(Car).index? %>
        </div>
        <br>
        <div class="header_link">
          <%= link_to "Sites", sites_path, class: "#{class_names(active: current_page?(sites_path))}" if policy(Site).index? %>
        </div>
        <br>
        <div class="header_link">
          <%= link_to "Reservations", reservations_path, class: "#{class_names(active: current_page?(reservations_path))}" if policy(Reservation).index? %>
        </div>
        <br>
        <div class="header_link">
          <%= link_to "Vehicle Reports", vehicle_reports_path, class: "#{class_names(active: current_page?(vehicle_reports_path))}" if policy(VehicleReport).index? %>
        </div>
        <br>
        <div class="header_link">
          <%= link_to "Terms", terms_path, class: "#{class_names(active: current_page?(terms_path))}" if policy(Term).index? %>
        </div>
        <br>
        <% if policy(Unit).index? %>
          <div class="header_link">
            <%= link_to "Units", units_path, class: "#{class_names(active: current_page?(units_path))}" %>
          </div>
          <br>
          <div class="header_link">
            <%= link_to "Unit Preferences", unit_preferences_path, class: "#{class_names(active: current_page?(unit_preferences_path))}" %>
          </div>
          <br>
        <% end %>
        <% if unit_use_faculty_survey?(current_user.unit_ids) %>
          <div class="header_link">
            <%= link_to "Program Surveys", faculty_surveys_path, class: "#{class_names(active: current_page?(faculty_surveys_path))}" %>
          </div>
          <br>
        <% end %>
        <% if faculty_has_survey?(current_user) %>
          <div class="header_link">
            <%= link_to "Program Survey", faculty_index_path, class: "#{class_names(active: current_page?(faculty_surveys_path))}" %>
          </div>
          <br>
        <% end %>
      <% end %>
      <hr>
      <div class="flex flex-col items-center">
        <% if user_signed_in? %>
          <div class="header_link">
            <%= link_to show_units(current_user), unit_prefs_path, class: "#{class_names(active: current_page?(unit_prefs_path))}" %>
          </div>
          <div class="uniqname_text mb-2">
            <%= current_user.email %>
          </div>
          <%= button_to destroy_user_session_path, method: :delete, role: "menuitem", tabindex: "-1", data: {turbo: "false"} do %>
            <span class="sign_button -ml-2">Sign Out</span>
          <% end %>
        <% else %>
          <%= button_to user_saml_omniauth_authorize_path, data: {turbo: "false"} do %>
            <div class="sign_button -ml-2">Sign In</div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
